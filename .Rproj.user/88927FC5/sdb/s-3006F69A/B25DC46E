{
    "contents" : "makeData<-function(ind=50,years=10,probDet=0.9,probSurv=0.5){\n  tag<-NULL\n  year<-NULL\n  for(i in 1:years){\n  tag=c(tag,1:(ind*i))\n  year=c(year,rep(i,ind*i))\n  }\n  data<-data.table(tag=tag,year=year,z=as.numeric(NA))\n  data[,first:=min(year),by=tag]\n  data[year==first,z:=1]\n  setkey(data,tag,year)\n  evalRows<-data[year!=first,which=T]\n  firstObsRows<-data[year==first,which=T]\n  \n  for(i in evalRows){\n    data$z[i]<-rbinom(1,1,probSurv)*data$z[i-1]\n  }\n  data[firstObsRows,enc:=1]\n  data[evalRows,enc:=rbinom(length(evalRows),1,probDet)*z]\n  data[,last:=max(year[which(enc==1)]),by=tag]\n  evalRows<-data[ year != years,which=T]\n  \n  d<<-within(data=list(),\n            expr={\n              encDATA=data$enc;\n              firstObsRows=firstObsRows;\n              evalRows=evalRows;\n              year=data$year\n              nEvalRows=length(evalRows);\n              nYears=length(unique(data$year));\n              nFirstObsRows=length(firstObsRows);\n            })\n  data<<-data\n  return(d)\n}\n\n#makeData()\n         \n       ",
    "created" : 1428588726363.000,
    "dirty" : true,
    "encoding" : "",
    "folds" : "",
    "hash" : "1304607794",
    "id" : "B25DC46E",
    "lastKnownWriteTime" : 20829436046016620,
    "path" : null,
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled3"
    },
    "source_on_save" : false,
    "type" : "r_source"
}